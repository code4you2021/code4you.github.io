<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="swift ios development apple watch iphone ipad swiftui macos uikit dev wwdc tutorial guide redux tea state container" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Customizing Toggle in SwiftUI | Code4You</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Customizing Toggle in SwiftUI" />
<meta name="author" content="Code4You" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This week we will continue mastering SwiftUI components by learning Toggle. Toggle is a view that we can use to allow users to toggle any boolean state in the app. SwiftUI enables us to customize toggles in a very convenient way by providing ToggleStyle protocol." />
<meta property="og:description" content="This week we will continue mastering SwiftUI components by learning Toggle. Toggle is a view that we can use to allow users to toggle any boolean state in the app. SwiftUI enables us to customize toggles in a very convenient way by providing ToggleStyle protocol." />
<link rel="canonical" href="http://localhost:4000/2020/03/04/customizing-toggle-in-swiftui/" />
<meta property="og:url" content="http://localhost:4000/2020/03/04/customizing-toggle-in-swiftui/" />
<meta property="og:site_name" content="Code4You" />
<meta property="og:image" content="http://localhost:4000/public/swiftui.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-04T00:00:00+08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/public/swiftui.png" />
<meta property="twitter:title" content="Customizing Toggle in SwiftUI" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/03/04/customizing-toggle-in-swiftui/"},"url":"http://localhost:4000/2020/03/04/customizing-toggle-in-swiftui/","image":"http://localhost:4000/public/swiftui.png","author":{"@type":"Person","name":"Code4You"},"headline":"Customizing Toggle in SwiftUI","description":"This week we will continue mastering SwiftUI components by learning Toggle. Toggle is a view that we can use to allow users to toggle any boolean state in the app. SwiftUI enables us to customize toggles in a very convenient way by providing ToggleStyle protocol.","dateModified":"2020-03-04T00:00:00+08:00","datePublished":"2020-03-04T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/styles.css">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Code4You" href="/feed.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <nav>
          <h1 class="masthead-title">
            <a href="/" title="Home">Code4You</a>
          </h1>
          <div>
            <a href="/categories" title="Categories">Categories</a>
            <a href="/archive" title="Archive">Archive</a>
            <a href="/feed.xml" title="Feed">Feed</a>
          </div>
        </nav>
      </header>

      <main>
        <article class="post">
  <h2 class="post-title">Customizing Toggle in SwiftUI</h2>
  <time datetime="2020-03-04T00:00:00+08:00" class="post-date">04 Mar 2020</time>
  <p>This week we will continue mastering SwiftUI components by learning <em>Toggle</em>. <em>Toggle</em> is a view that we can use to allow users to toggle any boolean state in the app. SwiftUI enables us to customize toggles in a very convenient way by providing <em>ToggleStyle</em> protocol.</p>

<!-- <div class="ads">
    <span>
        Why don’t more iOS apps use voice? Machine learning for voice is hard, and using Siri is clunky and rigid. So we open-sourced an iOS library (also Android, Node, Python, & React Native), and built a no-code web tool to make custom wake words, speech recognizers, and AI voices—for all devs! <a href="https://www.spokestack.io/?utm_source=swiftui_weekly&utm_medium=email&utm_campaign=maker_launch_PAID">Try it for free.</a>
    </span>
</div> -->

<h4 id="basics">Basics</h4>
<p>Let’s start with the basics of the <em>Toggle</em> component. To use <em>Toggle</em>, we need to create it by providing a binding to a boolean value that it is going to toggle and a label view that can be any combination of views. Let’s take a look at the very quick example of using a toggle.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">status</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Toggle</span><span class="p">(</span><span class="nv">isOn</span><span class="p">:</span> <span class="err">$</span><span class="n">status</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">Text</span><span class="p">(</span><span class="s">"toggle"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p><em>Binding</em> is a property wrapper that allows us to access value types in a reference like manner. To learn more about binding and other property wrappers provided by SwiftUI, take a look at my <a href="/2019/06/12/understanding-property-wrappers-in-swiftui/">“Understanding Property Wrappers in SwiftUI”</a> post.</p>
</blockquote>

<p>By default, SwiftUI uses the <em>UISwitch</em> view from <em>UIKit</em> to represent a <em>Toggle</em>. There is no way to change the tint color of <em>Toggle</em> from SwiftUI, but we can use <em>UIAppearance API</em> from <em>UIKit</em> to set the tint color for all <em>UISwitch</em> instances across the app. You can paste this line in <em>AppDelegate</em> to configure the color before you create a view.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">UISwitch</span><span class="o">.</span><span class="nf">appearance</span><span class="p">()</span><span class="o">.</span><span class="n">onTintColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">orange</span>
</code></pre></div></div>

<p>Another thing which I want to mention is that you can easily hide the label of your <em>Toggle</em> by using a <em>labelsHidden</em> modifier.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">status</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Toggle</span><span class="p">(</span><span class="nv">isOn</span><span class="p">:</span> <span class="err">$</span><span class="n">status</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">Text</span><span class="p">(</span><span class="s">"toggle"</span><span class="p">)</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">labelsHidden</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="styling">Styling</h4>
<p>We learned how to change the tint color of <em>Toggle</em>, but what about real styling options. For example, you might want to replace the <em>UISwitch</em> presentation of toggles with a checkbox. SwiftUI provides a <em>ToggleStyle</em> protocol that allows us to customize toggles in a way we can imagine.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">13.0</span><span class="p">,</span> <span class="kt">OSX</span> <span class="mf">10.15</span><span class="p">,</span> <span class="n">tvOS</span> <span class="mf">13.0</span><span class="p">,</span> <span class="n">watchOS</span> <span class="mf">6.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">ToggleStyle</span> <span class="p">{</span>
    <span class="kd">associatedtype</span> <span class="kt">Body</span> <span class="p">:</span> <span class="kt">View</span>

    <span class="kd">func</span> <span class="nf">makeBody</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="k">Self</span><span class="o">.</span><span class="kt">Configuration</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="k">Self</span><span class="o">.</span><span class="kt">Body</span>

    <span class="kd">typealias</span> <span class="kt">Configuration</span> <span class="o">=</span> <span class="kt">ToggleStyleConfiguration</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>It is so awesome that SwiftUI allows us to style views in a consistent way. SwiftUI also provides <em>ButtonStyle</em> protocol that we can use to design buttons. To learn more, take a look at my <a href="/2020/02/19/mastering-buttons-in-swiftui/">“Mastering buttons in SwiftUI”</a> post.</p>
</blockquote>

<p>The only requirement of <em>ToggleStyle</em> protocol is <em>makeBody</em> function that should return some view. <em>makeBody</em> function has a single parameter that we can use to access a user-defined label to place it according to our design and binding that we can toggle when the user alters the state.
Let’s create our very first <em>Toggle</em> style that will render it as a checkbox.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">CheckboxToggleStyle</span><span class="p">:</span> <span class="kt">ToggleStyle</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">makeBody</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="kt">Configuration</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">HStack</span> <span class="p">{</span>
            <span class="n">configuration</span><span class="o">.</span><span class="n">label</span>
            <span class="kt">Spacer</span><span class="p">()</span>
            <span class="kt">Image</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="n">configuration</span><span class="o">.</span><span class="n">isOn</span> <span class="p">?</span> <span class="s">"checkmark.square"</span> <span class="p">:</span> <span class="s">"square"</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">resizable</span><span class="p">()</span>
                <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">22</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">22</span><span class="p">)</span>
                <span class="o">.</span><span class="n">onTapGesture</span> <span class="p">{</span> <span class="n">configuration</span><span class="o">.</span><span class="n">isOn</span><span class="o">.</span><span class="nf">toggle</span><span class="p">()</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see in the example above, we create a <em>CheckboxToggleStyle</em> struct that conforms <em>ToggleStyle</em> protocol. We place a user-defined label in an <em>HStack</em> with the <em>Image</em> that uses <em>SF Symbols</em> to display checkmark in a square whenever binding is true or an empty square when binding is false.</p>

<p><img src="/public/toggle.png" alt="toggle" /></p>

<p>We can easily apply our <em>CheckboxToggleStyle</em> to every <em>Toggle</em> in our app by using the <em>toggleStyle</em> modifier. It uses the environment feature of SwiftUI to share the style with all views in the current environment. But remember that you can easily use this modifier on the concrete <em>Toggle</em> instance also.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">status</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Toggle</span><span class="p">(</span><span class="nv">isOn</span><span class="p">:</span> <span class="err">$</span><span class="n">status</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">Text</span><span class="p">(</span><span class="s">"toggle"</span><span class="p">)</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">toggleStyle</span><span class="p">(</span><span class="kt">CheckboxToggleStyle</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>SwiftUI uses environment to pass system-wide and application-related information. You can also populate environment with your custom objects. To learn more about environment, take a look at my <a href="/2019/08/21/the-power-of-environment-in-swiftui/">“The power of Environment in SwiftUI”</a> post.</p>
</blockquote>

<h4 id="conclusion">Conclusion</h4>
<p>Today we learned about another vital SwiftUI component. I’m delighted that SwiftUI provides a very consistent way of styling views. I hope you enjoy the post. Feel free to follow me on <a href="https://twitter.com/mecid">Twitter</a> and ask your questions related to this post. Thanks for reading, and see you next week!</p>

</article>


<aside class="related">
  <h4>Recent posts</h4>
  <ul class="related-posts">
    
      <li>
        <a title="Custom accessibility content in SwiftUI" href="/2021/10/06/custom-accessibility-content-in-swiftui/">
          Custom accessibility content in SwiftUI
          <small><time datetime="2021-10-06T00:00:00+08:00">06 Oct 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Audio graphs in SwiftUI" href="/2021/09/29/audio-graphs-in-swiftui/">
          Audio graphs in SwiftUI
          <small><time datetime="2021-09-29T00:00:00+08:00">29 Sep 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Accessibility focus in SwiftUI" href="/2021/09/23/accessibility-focus-in-swiftui/">
          Accessibility focus in SwiftUI
          <small><time datetime="2021-09-23T00:00:00+08:00">23 Sep 2021</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
          <img class="avatar" alt="mecid" width="100" height="100" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/mecid?v=3&s=100" srcset="https://avatars2.githubusercontent.com/mecid?v=3&s=100 1x, https://avatars2.githubusercontent.com/mecid?v=3&s=200 2x, https://avatars2.githubusercontent.com/mecid?v=3&s=300 3x, https://avatars2.githubusercontent.com/mecid?v=3&s=400 4x" />
          <small>Hi there! I am code4you,I like to program, and do some App.</small>
          <small>I'm a developer</small>
          <small>Feel free to follow me on <a href="https://github.com/code4you2021">Github</a>.</small>
        <small>
          &copy; <time datetime="2021-10-17T11:25:11+08:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1WQVZK1CR7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-18491817-18');
    </script>
    
  </body>
</html>

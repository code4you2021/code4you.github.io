<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="swift ios development apple watch iphone ipad swiftui macos uikit dev wwdc tutorial guide redux tea state container" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Anchor preferences in SwiftUI | Code4You</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Anchor preferences in SwiftUI" />
<meta name="author" content="Code4You" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Today we will continue mastering view preferences in SwiftUI that we touched a few weeks ago. Anchor preferences are another type of view preferences provided by SwiftUI. The main goal of anchor preferences is to pass layout data like bounds, center coordinates, etc. to its parent view." />
<meta property="og:description" content="Today we will continue mastering view preferences in SwiftUI that we touched a few weeks ago. Anchor preferences are another type of view preferences provided by SwiftUI. The main goal of anchor preferences is to pass layout data like bounds, center coordinates, etc. to its parent view." />
<link rel="canonical" href="http://localhost:4000/2020/03/18/anchor-preferences-in-swiftui/" />
<meta property="og:url" content="http://localhost:4000/2020/03/18/anchor-preferences-in-swiftui/" />
<meta property="og:site_name" content="Code4You" />
<meta property="og:image" content="http://localhost:4000/public/anchor.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-18T00:00:00+08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/public/anchor.png" />
<meta property="twitter:title" content="Anchor preferences in SwiftUI" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/03/18/anchor-preferences-in-swiftui/"},"url":"http://localhost:4000/2020/03/18/anchor-preferences-in-swiftui/","image":"http://localhost:4000/public/anchor.png","author":{"@type":"Person","name":"Code4You"},"headline":"Anchor preferences in SwiftUI","description":"Today we will continue mastering view preferences in SwiftUI that we touched a few weeks ago. Anchor preferences are another type of view preferences provided by SwiftUI. The main goal of anchor preferences is to pass layout data like bounds, center coordinates, etc. to its parent view.","dateModified":"2020-03-18T00:00:00+08:00","datePublished":"2020-03-18T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/styles.css">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Code4You" href="/feed.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <nav>
          <h1 class="masthead-title">
            <a href="/" title="Home">Code4You</a>
          </h1>
          <div>
            <a href="/categories" title="Categories">Categories</a>
            <a href="/archive" title="Archive">Archive</a>
            <a href="/feed.xml" title="Feed">Feed</a>
          </div>
        </nav>
      </header>

      <main>
        <article class="post">
  <h2 class="post-title">Anchor preferences in SwiftUI</h2>
  <time datetime="2020-03-18T00:00:00+08:00" class="post-date">18 Mar 2020</time>
  <p>Today we will continue mastering view preferences in SwiftUI that we touched a few weeks ago. Anchor preferences are another type of view preferences provided by SwiftUI. The main goal of anchor preferences is to pass layout data like bounds, center coordinates, etc. to its parent view.</p>

<!-- <div class="ads">
    <span>
        Why don’t more iOS apps use voice? Machine learning for voice is hard, and using Siri is clunky and rigid. So we open-sourced an iOS library (also Android, Node, Python, & React Native), and built a no-code web tool to make custom wake words, speech recognizers, and AI voices—for all devs! <a href="https://www.spokestack.io/?utm_source=swiftui_weekly&utm_medium=email&utm_campaign=maker_launch_PAID">Try it for free.</a>
    </span>
</div> -->

<h4 id="basics">Basics</h4>
<p>First of all, I want to ask you to check the post about view preferences if you are not familiar with these API. Anchor preferences use a very similar API. The only difference is that it is tuned to pass layout-specific data.</p>

<blockquote>
  <p>To learn more about the benefits of preferences in SwiftUI, take a look at my <a href="/2020/01/15/the-magic-of-view-preferences-in-swiftui/">“The magic of view preferences in SwiftUI”</a> post.</p>
</blockquote>

<p>Let’s build a simple view that shows text and passes its bounds to the ancestor. The parent view will draw an overlaying rectangle in that position.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">BoundsPreferenceKey</span><span class="p">:</span> <span class="kt">PreferenceKey</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">Value</span> <span class="o">=</span> <span class="kt">Anchor</span><span class="o">&lt;</span><span class="kt">CGRect</span><span class="o">&gt;</span><span class="p">?</span>

    <span class="kd">static</span> <span class="k">var</span> <span class="nv">defaultValue</span><span class="p">:</span> <span class="kt">Value</span> <span class="o">=</span> <span class="kc">nil</span>

    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">reduce</span><span class="p">(</span>
        <span class="nv">value</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">Value</span><span class="p">,</span>
        <span class="nv">nextValue</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Value</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nf">nextValue</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">ExampleView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">ZStack</span> <span class="p">{</span>
            <span class="kt">Color</span><span class="o">.</span><span class="n">yellow</span>
            <span class="kt">Text</span><span class="p">(</span><span class="s">"Hello World !!!"</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">anchorPreference</span><span class="p">(</span>
                    <span class="nv">key</span><span class="p">:</span> <span class="kt">BoundsPreferenceKey</span><span class="o">.</span><span class="k">self</span><span class="p">,</span>
                    <span class="nv">value</span><span class="p">:</span> <span class="o">.</span><span class="n">bounds</span>
                <span class="p">)</span> <span class="p">{</span> <span class="nv">$0</span> <span class="p">}</span>
        <span class="p">}</span>
        <span class="o">.</span><span class="nf">overlayPreferenceValue</span><span class="p">(</span><span class="kt">BoundsPreferenceKey</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">preferences</span> <span class="k">in</span>
            <span class="kt">GeometryReader</span> <span class="p">{</span> <span class="n">geometry</span> <span class="k">in</span>
                <span class="n">preferences</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span>
                    <span class="kt">Rectangle</span><span class="p">()</span>
                        <span class="o">.</span><span class="nf">stroke</span><span class="p">()</span>
                        <span class="o">.</span><span class="nf">frame</span><span class="p">(</span>
                            <span class="nv">width</span><span class="p">:</span> <span class="n">geometry</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
                            <span class="nv">height</span><span class="p">:</span> <span class="n">geometry</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span><span class="o">.</span><span class="n">height</span>
                        <span class="p">)</span>
                        <span class="o">.</span><span class="nf">offset</span><span class="p">(</span>
                            <span class="nv">x</span><span class="p">:</span> <span class="n">geometry</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span><span class="o">.</span><span class="n">minX</span><span class="p">,</span>
                            <span class="nv">y</span><span class="p">:</span> <span class="n">geometry</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span><span class="o">.</span><span class="n">minY</span>
                        <span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see in the example above, we still use the <em>PreferenceKey</em> protocol to create an anchor preference key. It has two requirements: default value and reduce function. Reduce function allows us to merge multiple values that appear from different views. We can replace the current value with the new one for now. We will see more advanced usage of reduce function later in the post.</p>

<p>Anchor preferences use opaque <em>Anchor</em> type. You can’t merely use Anchor type anywhere in the app. You have to use it in pair with <em>GeometryProxy</em> provided by <em>GeometryReader</em>. You can use the subscript of <em>GeometryProxy</em> to resolve anchor and access wrapped <em>CGRect</em> value. As a bonus, SwiftUI will convert a coordinate space between views while solving anchor, and you don’t need to do it manually.</p>

<p>We use the <em>anchorPreference</em> modifier to define the type of <em>PreferenceKey</em> and the value we want to gather. It can be bounds, center, leading, trailing, top, bottom. We also pass a closure that transforms provided anchor value. In this case, we don’t need any transformation and return the <em>CGRect</em> value as is.</p>

<p>In the end, we use <em>overlayPreferenceValue</em> on ancestor view to access gathered preference values and return overlay view. As I mentioned before, we need a <em>GeometryProxy</em> to resolve an anchor. That’s why we use here <em>GeometryReader</em>.</p>

<p><img src="/public/anchor-basics.png" alt="anchor-basics" /></p>

<p>We can easily use border modifier on the text view to achieve the same result, but I’ve done it to show you the basics of anchor preferences.</p>

<h4 id="advanced-usage">Advanced usage</h4>
<p>Now we can move to more advanced usage of anchor preferences. As an example, we will build a grid view. We will need to gather the size of every view inside the grid to calculate its positions. Let’s start by defining the <em>PreferenceKey</em> for our grid view.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">SizePreferences</span><span class="o">&lt;</span><span class="kt">Item</span><span class="p">:</span> <span class="kt">Hashable</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">PreferenceKey</span> <span class="p">{</span>
    <span class="kd">typealias</span> <span class="kt">Value</span> <span class="o">=</span> <span class="p">[</span><span class="kt">Item</span><span class="p">:</span> <span class="kt">CGSize</span><span class="p">]</span>

    <span class="kd">static</span> <span class="k">var</span> <span class="nv">defaultValue</span><span class="p">:</span> <span class="kt">Value</span> <span class="p">{</span> <span class="p">[:]</span> <span class="p">}</span>

    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">reduce</span><span class="p">(</span>
        <span class="nv">value</span><span class="p">:</span> <span class="k">inout</span> <span class="kt">Value</span><span class="p">,</span>
        <span class="nv">nextValue</span><span class="p">:</span> <span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Value</span>
    <span class="p">)</span> <span class="p">{</span>
        <span class="n">value</span><span class="o">.</span><span class="nf">merge</span><span class="p">(</span><span class="nf">nextValue</span><span class="p">())</span> <span class="p">{</span> <span class="nv">$1</span> <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see here, we will store the dictionary that represents an item and its size. In the reduce function, we merge old and new dictionaries by overriding new values. Now we can define our grid view.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Grid</span><span class="o">&lt;</span><span class="kt">Data</span><span class="p">:</span> <span class="kt">RandomAccessCollection</span><span class="p">,</span> <span class="kt">ElementView</span><span class="p">:</span> <span class="kt">View</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">View</span> <span class="k">where</span> <span class="kt">Data</span><span class="o">.</span><span class="kt">Element</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="p">{</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">itemView</span><span class="p">:</span> <span class="p">(</span><span class="kt">Data</span><span class="o">.</span><span class="kt">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">ElementView</span>

    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">preferences</span><span class="p">:</span> <span class="p">[</span><span class="kt">Data</span><span class="o">.</span><span class="kt">Element</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:]</span>

    <span class="nf">init</span><span class="p">(</span><span class="n">_</span> <span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">,</span> <span class="kd">@ViewBuilder</span> <span class="nv">itemView</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">Data</span><span class="o">.</span><span class="kt">Element</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">ElementView</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">self</span><span class="o">.</span><span class="n">itemView</span> <span class="o">=</span> <span class="n">itemView</span>
    <span class="p">}</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">GeometryReader</span> <span class="p">{</span> <span class="n">geometry</span> <span class="k">in</span>
            <span class="kt">ZStack</span><span class="p">(</span><span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">topLeading</span><span class="p">)</span> <span class="p">{</span>
                <span class="kt">ForEach</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">item</span> <span class="k">in</span>
                    <span class="k">self</span><span class="o">.</span><span class="nf">itemView</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
                        <span class="o">.</span><span class="nf">alignmentGuide</span><span class="p">(</span><span class="o">.</span><span class="n">leading</span><span class="p">)</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
                            <span class="o">-</span><span class="k">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="n">item</span><span class="p">,</span> <span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">zero</span><span class="p">]</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">x</span>
                        <span class="p">}</span>
                        <span class="o">.</span><span class="nf">alignmentGuide</span><span class="p">(</span><span class="o">.</span><span class="n">top</span><span class="p">)</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
                            <span class="o">-</span><span class="k">self</span><span class="o">.</span><span class="n">preferences</span><span class="p">[</span><span class="n">item</span><span class="p">,</span> <span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">zero</span><span class="p">]</span><span class="o">.</span><span class="n">origin</span><span class="o">.</span><span class="n">y</span>
                        <span class="p">}</span>
                        <span class="o">.</span><span class="nf">anchorPreference</span><span class="p">(</span>
                            <span class="nv">key</span><span class="p">:</span> <span class="kt">SizePreferences</span><span class="o">&lt;</span><span class="kt">Data</span><span class="o">.</span><span class="kt">Element</span><span class="o">&gt;.</span><span class="k">self</span><span class="p">,</span>
                            <span class="nv">value</span><span class="p">:</span> <span class="o">.</span><span class="n">bounds</span>
                        <span class="p">)</span> <span class="p">{</span>
                            <span class="p">[</span><span class="nv">item</span><span class="p">:</span> <span class="n">geometry</span><span class="p">[</span><span class="nv">$0</span><span class="p">]</span><span class="o">.</span><span class="n">size</span><span class="p">]</span>
                        <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We use <em>ZStack</em> with top leading alignment. It allows us to position items inside in an effortless way. Instead of using the offset modifier which doesn’t affect the layout, we use overridden alignment guides to position our child views. We also resolve our anchors here, because we already have access to the instance of <em>GeometryProxy</em>.</p>

<blockquote>
  <p>To learn more about the benefits of alignment guides in SwiftUI, take a look at my <a href="">“Alignment guides in SwiftUI”</a> post.</p>
</blockquote>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kt">GeometryReader</span> <span class="p">{</span> <span class="n">geometry</span> <span class="k">in</span>
        <span class="kt">ZStack</span><span class="p">(</span><span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">topLeading</span><span class="p">)</span> <span class="p">{</span>
            <span class="o">...</span>
        <span class="p">}</span>
        <span class="o">.</span><span class="nf">onPreferenceChange</span><span class="p">(</span><span class="kt">SizePreferences</span><span class="o">&lt;</span><span class="kt">Data</span><span class="o">.</span><span class="kt">Element</span><span class="o">&gt;.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">sizes</span> <span class="k">in</span>
            <span class="k">var</span> <span class="nv">newPreferences</span><span class="p">:</span> <span class="p">[</span><span class="kt">Data</span><span class="o">.</span><span class="kt">Element</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:]</span>
            <span class="k">var</span> <span class="nv">bounds</span><span class="p">:</span> <span class="p">[</span><span class="kt">CGRect</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">item</span> <span class="k">in</span> <span class="k">self</span><span class="o">.</span><span class="n">data</span> <span class="p">{</span>
                <span class="k">let</span> <span class="nv">size</span> <span class="o">=</span> <span class="n">sizes</span><span class="p">[</span><span class="n">item</span><span class="p">,</span> <span class="k">default</span><span class="p">:</span> <span class="o">.</span><span class="n">zero</span><span class="p">]</span>
                <span class="k">let</span> <span class="nv">rect</span><span class="p">:</span> <span class="kt">CGRect</span>
                <span class="k">if</span> <span class="k">let</span> <span class="nv">lastBounds</span> <span class="o">=</span> <span class="n">bounds</span><span class="o">.</span><span class="n">last</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="n">lastBounds</span><span class="o">.</span><span class="n">maxX</span> <span class="o">+</span> <span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="o">&gt;</span> <span class="n">geometry</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">width</span> <span class="p">{</span>
                        <span class="k">let</span> <span class="nv">origin</span> <span class="o">=</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">lastBounds</span><span class="o">.</span><span class="n">maxY</span><span class="p">)</span>
                        <span class="n">rect</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">origin</span><span class="p">:</span> <span class="n">origin</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="n">size</span><span class="p">)</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="k">let</span> <span class="nv">origin</span> <span class="o">=</span> <span class="kt">CGPoint</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="n">lastBounds</span><span class="o">.</span><span class="n">maxX</span><span class="p">,</span> <span class="nv">y</span><span class="p">:</span> <span class="n">lastBounds</span><span class="o">.</span><span class="n">minY</span><span class="p">)</span>
                        <span class="n">rect</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">origin</span><span class="p">:</span> <span class="n">origin</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="n">size</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="n">rect</span> <span class="o">=</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">origin</span><span class="p">:</span> <span class="o">.</span><span class="n">zero</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="n">size</span><span class="p">)</span>
                <span class="p">}</span>
                <span class="n">bounds</span><span class="o">.</span><span class="nf">append</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>
                <span class="n">newPreferences</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="o">=</span> <span class="n">rect</span>
            <span class="p">}</span>
            <span class="k">self</span><span class="o">.</span><span class="n">preferences</span> <span class="o">=</span> <span class="n">newPreferences</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As the last step, we calculate bounds for every item using <em>onPreferenceChange</em> modifier which provides us the access to gathered sizes. Let’s take a look at the final result.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">RootView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">cards</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">"Lorem"</span><span class="p">,</span> <span class="s">"ipsum"</span><span class="p">,</span> <span class="s">"is"</span><span class="p">,</span> <span class="s">"placeholder"</span><span class="p">,</span> <span class="s">"text"</span><span class="p">,</span> <span class="s">"!!!"</span>
    <span class="p">]</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">Grid</span><span class="p">(</span><span class="n">cards</span><span class="p">)</span> <span class="p">{</span> <span class="n">card</span> <span class="k">in</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">frame</span><span class="p">(</span><span class="nv">width</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span> <span class="nv">height</span><span class="p">:</span> <span class="mi">120</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">background</span><span class="p">(</span><span class="kt">Color</span><span class="o">.</span><span class="n">orange</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">cornerRadius</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">padding</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="/public/anchor.png" alt="anchor" /></p>

<h4 id="conclusion">Conclusion</h4>
<p>SwiftUI provides us so many great tools that we can use to build impressive views. Anchor preferences feature is one of the powerful hidden gems of SwiftUI. I hope you enjoy the post. Feel free to follow me on <a href="https://twitter.com/mecid">Twitter</a> and ask your questions related to this post. Thanks for reading, and see you next week!</p>

</article>


<aside class="related">
  <h4>Recent posts</h4>
  <ul class="related-posts">
    
      <li>
        <a title="Custom accessibility content in SwiftUI" href="/2021/10/06/custom-accessibility-content-in-swiftui/">
          Custom accessibility content in SwiftUI
          <small><time datetime="2021-10-06T00:00:00+08:00">06 Oct 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Audio graphs in SwiftUI" href="/2021/09/29/audio-graphs-in-swiftui/">
          Audio graphs in SwiftUI
          <small><time datetime="2021-09-29T00:00:00+08:00">29 Sep 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Accessibility focus in SwiftUI" href="/2021/09/23/accessibility-focus-in-swiftui/">
          Accessibility focus in SwiftUI
          <small><time datetime="2021-09-23T00:00:00+08:00">23 Sep 2021</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
          <img class="avatar" alt="mecid" width="100" height="100" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/mecid?v=3&s=100" srcset="https://avatars2.githubusercontent.com/mecid?v=3&s=100 1x, https://avatars2.githubusercontent.com/mecid?v=3&s=200 2x, https://avatars2.githubusercontent.com/mecid?v=3&s=300 3x, https://avatars2.githubusercontent.com/mecid?v=3&s=400 4x" />
          <small>Hi there! I am code4you,I like to program, and do some App.</small>
          <small>I'm a developer</small>
          <small>Feel free to follow me on <a href="https://github.com/code4you2021">Github</a>.</small>
        <small>
          &copy; <time datetime="2021-10-17T11:25:11+08:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1WQVZK1CR7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-18491817-18');
    </script>
    
  </body>
</html>

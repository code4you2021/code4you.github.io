<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="swift ios development apple watch iphone ipad swiftui macos uikit dev wwdc tutorial guide redux tea state container" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Displaying recursive data using OutlineGroup in SwiftUI | Code4You</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Displaying recursive data using OutlineGroup in SwiftUI" />
<meta name="author" content="Code4You" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This week we will talk about another excellent UI component called OutlineGroup. Apple released OutlineGroup during the WWDC20 side-by-side with other great things, including grids, menus, and toolbars. I already covered them in my previous posts. And finally, today is time to talk about OutlineGroup and DisclosureGroup that handles the expanding behavior." />
<meta property="og:description" content="This week we will talk about another excellent UI component called OutlineGroup. Apple released OutlineGroup during the WWDC20 side-by-side with other great things, including grids, menus, and toolbars. I already covered them in my previous posts. And finally, today is time to talk about OutlineGroup and DisclosureGroup that handles the expanding behavior." />
<link rel="canonical" href="http://localhost:4000/2020/09/02/displaying-recursive-data-using-outlinegroup-in-swiftui/" />
<meta property="og:url" content="http://localhost:4000/2020/09/02/displaying-recursive-data-using-outlinegroup-in-swiftui/" />
<meta property="og:site_name" content="Code4You" />
<meta property="og:image" content="http://localhost:4000/public/outlineGroup2.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-02T00:00:00+08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/public/outlineGroup2.png" />
<meta property="twitter:title" content="Displaying recursive data using OutlineGroup in SwiftUI" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/09/02/displaying-recursive-data-using-outlinegroup-in-swiftui/"},"url":"http://localhost:4000/2020/09/02/displaying-recursive-data-using-outlinegroup-in-swiftui/","image":"http://localhost:4000/public/outlineGroup2.png","author":{"@type":"Person","name":"Code4You"},"headline":"Displaying recursive data using OutlineGroup in SwiftUI","description":"This week we will talk about another excellent UI component called OutlineGroup. Apple released OutlineGroup during the WWDC20 side-by-side with other great things, including grids, menus, and toolbars. I already covered them in my previous posts. And finally, today is time to talk about OutlineGroup and DisclosureGroup that handles the expanding behavior.","dateModified":"2020-09-02T00:00:00+08:00","datePublished":"2020-09-02T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/styles.css">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Code4You" href="/feed.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <nav>
          <h1 class="masthead-title">
            <a href="/" title="Home">Code4You</a>
          </h1>
          <div>
            <a href="/categories" title="Categories">Categories</a>
            <a href="/archive" title="Archive">Archive</a>
            <a href="/feed.xml" title="Feed">Feed</a>
          </div>
        </nav>
      </header>

      <main>
        <article class="post">
  <h2 class="post-title">Displaying recursive data using OutlineGroup in SwiftUI</h2>
  <time datetime="2020-09-02T00:00:00+08:00" class="post-date">02 Sep 2020</time>
  <p>This week we will talk about another excellent UI component called <em>OutlineGroup</em>. Apple released <em>OutlineGroup</em> during the WWDC20 side-by-side with other great things, including grids, menus, and toolbars. I already covered them in my previous posts. And finally, today is time to talk about <em>OutlineGroup</em> and <em>DisclosureGroup</em> that handles the expanding behavior.</p>

<!-- <div class="ads">
    <span>
        Why don’t more iOS apps use voice? Machine learning for voice is hard, and using Siri is clunky and rigid. So we open-sourced an iOS library (also Android, Node, Python, & React Native), and built a no-code web tool to make custom wake words, speech recognizers, and AI voices—for all devs! <a href="https://www.spokestack.io/?utm_source=swiftui_weekly&utm_medium=email&utm_campaign=maker_launch_PAID">Try it for free.</a>
    </span>
</div> -->

<h4 id="outlinegroup">OutlineGroup</h4>
<p><em>OutlineGroup</em> is a view that enumerates tree-structured collection and renders its view representation recursively. It is a perfect solution to display recursive data like trees. Assume that you are working on the shopping app where you obtain a categories tree via API. Let’s take a look at a straightforward tree implementation in Swift.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Tree</span><span class="o">&lt;</span><span class="kt">Value</span><span class="p">:</span> <span class="kt">Hashable</span><span class="o">&gt;</span><span class="p">:</span> <span class="kt">Hashable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">Value</span>
    <span class="k">var</span> <span class="nv">children</span><span class="p">:</span> <span class="p">[</span><span class="kt">Tree</span><span class="p">]?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Now we have a pretty simple tree structure that allows us to define complex category hierarchy. For example, the API response from the categories endpoint might look like this.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">categories</span><span class="p">:</span> <span class="p">[</span><span class="kt">Tree</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">.</span><span class="nf">init</span><span class="p">(</span>
        <span class="nv">value</span><span class="p">:</span> <span class="s">"Clothing"</span><span class="p">,</span>
        <span class="nv">children</span><span class="p">:</span> <span class="p">[</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Hoodies"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Jackets"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Joggers"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Jumpers"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span>
                <span class="nv">value</span><span class="p">:</span> <span class="s">"Jeans"</span><span class="p">,</span>
                <span class="nv">children</span><span class="p">:</span> <span class="p">[</span>
                    <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Regular"</span><span class="p">),</span>
                    <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Slim"</span><span class="p">)</span>
                <span class="p">]</span>
            <span class="p">),</span>
        <span class="p">]</span>
    <span class="p">),</span>
    <span class="o">.</span><span class="nf">init</span><span class="p">(</span>
        <span class="nv">value</span><span class="p">:</span> <span class="s">"Shoes"</span><span class="p">,</span>
        <span class="nv">children</span><span class="p">:</span> <span class="p">[</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Boots"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Sliders"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Sandals"</span><span class="p">),</span>
            <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="s">"Trainers"</span><span class="p">),</span>
        <span class="p">]</span>
    <span class="p">)</span>
<span class="p">]</span>
</code></pre></div></div>

<p>As you can see, we already have a recursive structure. Let’s try to feed it into the <em>OutlineGroup</em> to display the tree hierarchy.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">OutlineGroup</span><span class="p">(</span><span class="n">categories</span><span class="p">,</span> <span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nv">children</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="p">{</span> <span class="n">tree</span> <span class="k">in</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="n">subheadline</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><em>OutlineGroup</em> allows us to display very complex tree-structured collections in a few lines of code. We construct <em>OutlineGroup</em> in a very familiar fashion. It looks similar to the <em>ForEach</em> view but also needs the children parameter. Children parameter is a <em>KeyPath</em> to a recursive property of our structure. Keep in mind that the recursive property must be optional. This is how <em>OutlineGroup</em> understands the end of the tree node.</p>

<p><img src="/public/outlineGroup1.png" alt="outline group" /></p>

<p>Another thing that Apple released side-by-side with <em>OutlineGroup</em> is a new way to configure a <em>List</em> that uses <em>OutlineGroup</em> to display its items. It automatically applies list styling to <em>OutlineGroup</em> and allows us to use it in the sidebar navigation. Let’s take a look at how we can use List with <em>OutlineGroup</em> under the hood.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">List</span><span class="p">(</span><span class="n">categories</span><span class="p">,</span> <span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="nv">children</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">children</span><span class="p">)</span> <span class="p">{</span> <span class="n">tree</span> <span class="k">in</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="n">subheadline</span><span class="p">)</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">listStyle</span><span class="p">(</span><span class="kt">SidebarListStyle</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, there is a new <em>List</em> initializer that takes additional children parameter. You can simply replace your <em>OutlineGroup</em> with <em>List</em>, and you will get a list styling for your tree-structured collection.</p>

<p><img src="/public/outlineGroup2.png" alt="outline group" /></p>

<blockquote>
  <p>To learn more about building three-column navigation in SwiftUI, take a look at my <a href="/2020/07/21/sidebar-navigation-in-swiftui/">“Sidebar navigation in SwiftUI”</a> post.</p>
</blockquote>

<p><em>OutlineGroup</em> is really shining when you use it inside a <em>List</em>. We can use <em>OutlineGroup</em> inside sections. This approach allows us to expand the first level of your tree-structured collection automatically. It looks gorgeous with sidebar style. Let’s take a look at the quick example of section-based <em>OutlineGroup</em> usage.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">List</span> <span class="p">{</span>
            <span class="kt">ForEach</span><span class="p">(</span><span class="n">categories</span><span class="p">,</span> <span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">section</span> <span class="k">in</span>
                <span class="kt">Section</span><span class="p">(</span><span class="nv">header</span><span class="p">:</span> <span class="kt">Text</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">value</span><span class="p">))</span> <span class="p">{</span>
                    <span class="kt">OutlineGroup</span><span class="p">(</span>
                        <span class="n">section</span><span class="o">.</span><span class="n">children</span> <span class="p">??</span> <span class="p">[],</span>
                        <span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                        <span class="nv">children</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="n">children</span>
                    <span class="p">)</span> <span class="p">{</span> <span class="n">tree</span> <span class="k">in</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
                            <span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="n">subheadline</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">listStyle</span><span class="p">(</span><span class="kt">SidebarListStyle</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="/public/outlineGroup3.png" alt="outline group" /></p>

<h4 id="disclosuregroup">DisclosureGroup</h4>
<p>As you can see on the screenshots that I provide during the post, the main component of <em>OutlineGroup</em> is an expandable view called <em>DisclosureGroup</em>. <em>DisclosureGroup</em> is a straightforward view that accepts title string, content view, and boolean binding, which shows or hides the content.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">showContent</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">DisclosureGroup</span><span class="p">(</span><span class="s">"Message"</span><span class="p">,</span> <span class="nv">isExpanded</span><span class="p">:</span> <span class="err">$</span><span class="n">showContent</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">Text</span><span class="p">(</span><span class="s">"Hello World!"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can use <em>DisclosureGroup</em> inside a <em>Form</em> view that allows you to build complex forms quickly in a very declarative way.</p>

<blockquote>
  <p>To learn more about the power of Form view in SwiftUI, take a look at my <a href="/2019/06/19/building-forms-with-swiftui/">“Building forms with SwiftUI”</a> post.</p>
</blockquote>

<h4 id="conclusion">Conclusion</h4>
<p>Today we learned about another view that WWDC20 brings us in addition to the current collection of views. With the help of <em>OutlineGroup</em>, we can easily display the massive collection of tree-structured items.</p>

<p>We also learned about <em>DisclosureGroup</em> that powers <em>OutlineGroup</em>. The nice bonus is that we can use <em>DisclosureGroup</em> separately. I hope you enjoy the post. Feel free to follow me on <a href="https://twitter.com/mecid">Twitter</a> and ask your questions related to this article. Thanks for reading, and see you next week!</p>

</article>


<aside class="related">
  <h4>Recent posts</h4>
  <ul class="related-posts">
    
      <li>
        <a title="Custom accessibility content in SwiftUI" href="/2021/10/06/custom-accessibility-content-in-swiftui/">
          Custom accessibility content in SwiftUI
          <small><time datetime="2021-10-06T00:00:00+08:00">06 Oct 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Audio graphs in SwiftUI" href="/2021/09/29/audio-graphs-in-swiftui/">
          Audio graphs in SwiftUI
          <small><time datetime="2021-09-29T00:00:00+08:00">29 Sep 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Accessibility focus in SwiftUI" href="/2021/09/23/accessibility-focus-in-swiftui/">
          Accessibility focus in SwiftUI
          <small><time datetime="2021-09-23T00:00:00+08:00">23 Sep 2021</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
          <img class="avatar" alt="mecid" width="100" height="100" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/mecid?v=3&s=100" srcset="https://avatars2.githubusercontent.com/mecid?v=3&s=100 1x, https://avatars2.githubusercontent.com/mecid?v=3&s=200 2x, https://avatars2.githubusercontent.com/mecid?v=3&s=300 3x, https://avatars2.githubusercontent.com/mecid?v=3&s=400 4x" />
          <small>Hi there! I am code4you,I like to program, and do some App.</small>
          <small>I'm a developer</small>
          <small>Feel free to follow me on <a href="https://github.com/code4you2021">Github</a>.</small>
        <small>
          &copy; <time datetime="2021-10-17T11:25:11+08:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1WQVZK1CR7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-18491817-18');
    </script>
    
  </body>
</html>

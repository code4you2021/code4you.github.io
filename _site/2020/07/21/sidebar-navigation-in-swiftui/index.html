<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="swift ios development apple watch iphone ipad swiftui macos uikit dev wwdc tutorial guide redux tea state container" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Sidebar navigation in SwiftUI | Code4You</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Sidebar navigation in SwiftUI" />
<meta name="author" content="Code4You" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We already covered master-detail navigation in SwiftUI on my blog. But today, I want to talk about the new three-column navigation that landed this year into iOS and macOS worlds. We will learn how to build a sidebar navigation flow by using NavigationView in SwiftUI." />
<meta property="og:description" content="We already covered master-detail navigation in SwiftUI on my blog. But today, I want to talk about the new three-column navigation that landed this year into iOS and macOS worlds. We will learn how to build a sidebar navigation flow by using NavigationView in SwiftUI." />
<link rel="canonical" href="http://localhost:4000/2020/07/21/sidebar-navigation-in-swiftui/" />
<meta property="og:url" content="http://localhost:4000/2020/07/21/sidebar-navigation-in-swiftui/" />
<meta property="og:site_name" content="Code4You" />
<meta property="og:image" content="http://localhost:4000/public/sidebar.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-07-21T00:00:00+08:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/public/sidebar.png" />
<meta property="twitter:title" content="Sidebar navigation in SwiftUI" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2020/07/21/sidebar-navigation-in-swiftui/"},"url":"http://localhost:4000/2020/07/21/sidebar-navigation-in-swiftui/","image":"http://localhost:4000/public/sidebar.png","author":{"@type":"Person","name":"Code4You"},"headline":"Sidebar navigation in SwiftUI","description":"We already covered master-detail navigation in SwiftUI on my blog. But today, I want to talk about the new three-column navigation that landed this year into iOS and macOS worlds. We will learn how to build a sidebar navigation flow by using NavigationView in SwiftUI.","dateModified":"2020-07-21T00:00:00+08:00","datePublished":"2020-07-21T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/styles.css">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Code4You" href="/feed.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <nav>
          <h1 class="masthead-title">
            <a href="/" title="Home">Code4You</a>
          </h1>
          <div>
            <a href="/categories" title="Categories">Categories</a>
            <a href="/archive" title="Archive">Archive</a>
            <a href="/feed.xml" title="Feed">Feed</a>
          </div>
        </nav>
      </header>

      <main>
        <article class="post">
  <h2 class="post-title">Sidebar navigation in SwiftUI</h2>
  <time datetime="2020-07-21T00:00:00+08:00" class="post-date">21 Jul 2020</time>
  <p>We already covered master-detail navigation in SwiftUI on my blog. But today, I want to talk about the new three-column navigation that landed this year into iOS and macOS worlds. We will learn how to build a sidebar navigation flow by using <em>NavigationView</em> in SwiftUI.</p>

<!-- <div class="ads">
    <span>
        Why don’t more iOS apps use voice? Machine learning for voice is hard, and using Siri is clunky and rigid. So we open-sourced an iOS library (also Android, Node, Python, & React Native), and built a no-code web tool to make custom wake words, speech recognizers, and AI voices—for all devs! <a href="https://www.spokestack.io/?utm_source=swiftui_weekly&utm_medium=email&utm_campaign=maker_launch_PAID">Try it for free.</a>
    </span>
</div> -->

<p>A sidebar provides app-level navigation and quick access to top-level collections of content in your app. Selecting an item in the sidebar allows people to navigate to a specific piece of content. For example, the sidebar in Mail shows a list of all mailboxes. People can select a mailbox to access its list of messages, and select a specific message to display in the content pane.</p>

<p><img src="/public/sidebar.png" alt="sidebar" /></p>

<p>Let’s build a prototype of a mail app that uses three-column navigation. SwiftUI provides <em>NavigationView</em> that allows us to create a master-detail flow. You can put up to three children inside a <em>NavigationView</em>. In this case, SwiftUI will place views side-by-side. But let’s start with declaring our data model.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>

<span class="kd">struct</span> <span class="kt">Mail</span><span class="p">:</span> <span class="kt">Identifiable</span><span class="p">,</span> <span class="kt">Hashable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">id</span> <span class="o">=</span> <span class="kt">UUID</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">date</span><span class="p">:</span> <span class="kt">Date</span>
    <span class="k">let</span> <span class="nv">subject</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">body</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">isFavorited</span> <span class="o">=</span> <span class="kc">false</span>
<span class="p">}</span>

<span class="kd">final</span> <span class="kd">class</span> <span class="kt">MailStore</span><span class="p">:</span> <span class="kt">ObservableObject</span> <span class="p">{</span>
    <span class="kd">@Published</span> <span class="k">var</span> <span class="nv">allMails</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="p">[</span><span class="kt">Mail</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">"Inbox"</span><span class="p">:</span> <span class="p">[</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">date</span><span class="p">:</span> <span class="kt">Date</span><span class="p">(),</span> <span class="nv">subject</span><span class="p">:</span> <span class="s">"Subject1"</span><span class="p">,</span> <span class="nv">body</span><span class="p">:</span> <span class="s">"Very long body..."</span><span class="p">)</span> <span class="p">],</span>
        <span class="s">"Sent"</span><span class="p">:</span> <span class="p">[</span> <span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">date</span><span class="p">:</span> <span class="kt">Date</span><span class="p">(),</span> <span class="nv">subject</span><span class="p">:</span> <span class="s">"Subject2"</span><span class="p">,</span> <span class="nv">body</span><span class="p">:</span> <span class="s">"Very long body..."</span><span class="p">)</span> <span class="p">],</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>To learn about building navigation using <em>NavigationView</em> and <em>NavigationLink</em>, take a look at my <a href="/2019/07/17/navigation-in-swiftui/">“Navigation in SwiftUI”</a> post.</p>
</blockquote>

<p>In the listing above, we create a simple mail store that we will use as a datastore for our prototype. Now let’s move forward by implementing the first column of our navigation flow.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Sidebar</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@ObservedObject</span> <span class="k">var</span> <span class="nv">store</span><span class="p">:</span> <span class="kt">MailStore</span>
    <span class="kd">@Binding</span> <span class="k">var</span> <span class="nv">selectedFolder</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span>
    <span class="kd">@Binding</span> <span class="k">var</span> <span class="nv">selectedMail</span><span class="p">:</span> <span class="kt">Mail</span><span class="p">?</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">List</span> <span class="p">{</span>
            <span class="kt">ForEach</span><span class="p">(</span><span class="kt">Array</span><span class="p">(</span><span class="n">store</span><span class="o">.</span><span class="n">allMails</span><span class="o">.</span><span class="n">keys</span><span class="p">),</span> <span class="nv">id</span><span class="p">:</span> <span class="p">\</span><span class="o">.</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="n">folder</span> <span class="k">in</span>
                <span class="kt">NavigationLink</span><span class="p">(</span>
                    <span class="nv">destination</span><span class="p">:</span> <span class="kt">FolderView</span><span class="p">(</span>
                        <span class="nv">title</span><span class="p">:</span> <span class="n">folder</span><span class="p">,</span>
                        <span class="nv">mails</span><span class="p">:</span> <span class="n">store</span><span class="o">.</span><span class="n">allMails</span><span class="p">[</span><span class="n">folder</span><span class="p">,</span> <span class="k">default</span><span class="p">:</span> <span class="p">[]],</span>
                        <span class="nv">selectedMail</span><span class="p">:</span> <span class="err">$</span><span class="n">selectedMail</span>
                    <span class="p">),</span>
                    <span class="nv">tag</span><span class="p">:</span> <span class="n">folder</span><span class="p">,</span>
                    <span class="nv">selection</span><span class="p">:</span> <span class="err">$</span><span class="n">selectedFolder</span>
                <span class="p">)</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="n">folder</span><span class="p">)</span><span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="n">headline</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">listStyle</span><span class="p">(</span><span class="kt">SidebarListStyle</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, we create a view called sidebar. It needs an instance of store object to access our emails and two bindings that we will use to bind the current folder and selected email. We also use the new <em>SidebarListStyle</em> to apply a brand new styling to our list that available on iOS 14 and macOS Big Sur.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">FolderView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">let</span> <span class="nv">mails</span><span class="p">:</span> <span class="p">[</span><span class="kt">Mail</span><span class="p">]</span>
    <span class="kd">@Binding</span> <span class="k">var</span> <span class="nv">selectedMail</span><span class="p">:</span> <span class="kt">Mail</span><span class="p">?</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">List</span> <span class="p">{</span>
            <span class="kt">ForEach</span><span class="p">(</span><span class="n">mails</span><span class="p">)</span> <span class="p">{</span> <span class="n">mail</span> <span class="k">in</span>
                <span class="kt">NavigationLink</span><span class="p">(</span>
                    <span class="nv">destination</span><span class="p">:</span> <span class="kt">MailView</span><span class="p">(</span><span class="nv">mail</span><span class="p">:</span> <span class="n">mail</span><span class="p">),</span>
                    <span class="nv">tag</span><span class="p">:</span> <span class="n">mail</span><span class="p">,</span>
                    <span class="nv">selection</span><span class="p">:</span> <span class="err">$</span><span class="n">selectedMail</span>
                <span class="p">)</span> <span class="p">{</span>
                    <span class="kt">VStack</span><span class="p">(</span><span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">leading</span><span class="p">)</span> <span class="p">{</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">subject</span><span class="p">)</span>
                        <span class="kt">Text</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">date</span><span class="p">)</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">navigationTitle</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Here we have the <em>FolderView</em> struct that we use to display a list of emails in the folder. <em>FolderView</em> also needs the binding for a selected email. Whenever the user selects an email in the list, SwiftUI sets the value of the binding and updates the view hierarchy. Now let’s take a look at <em>MailView</em>.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">MailView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">mail</span><span class="p">:</span> <span class="kt">Mail</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span><span class="p">(</span><span class="nv">alignment</span><span class="p">:</span> <span class="o">.</span><span class="n">leading</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">subject</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">font</span><span class="p">(</span><span class="o">.</span><span class="n">headline</span><span class="p">)</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">date</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">date</span><span class="p">)</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">mail</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>OK, now we have all the needed pieces to build our three-column navigation flow. As I mentioned earlier, we will put our column views inside a <em>NavigationView</em>.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@main</span>
<span class="kd">struct</span> <span class="kt">TestProjectApp</span><span class="p">:</span> <span class="kt">App</span> <span class="p">{</span>
    <span class="kd">@StateObject</span> <span class="k">var</span> <span class="nv">store</span> <span class="o">=</span> <span class="kt">MailStore</span><span class="p">()</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">selectedLabel</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="s">"Inbox"</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">selectedMail</span><span class="p">:</span> <span class="kt">Mail</span><span class="p">?</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">Scene</span> <span class="p">{</span>
        <span class="kt">WindowGroup</span> <span class="p">{</span>
            <span class="kt">NavigationView</span> <span class="p">{</span>
                <span class="kt">Sidebar</span><span class="p">(</span>
                    <span class="nv">store</span><span class="p">:</span> <span class="n">store</span><span class="p">,</span>
                    <span class="nv">selectedFolder</span><span class="p">:</span> <span class="err">$</span><span class="n">selectedLabel</span><span class="p">,</span>
                    <span class="nv">selectedMail</span><span class="p">:</span> <span class="err">$</span><span class="n">selectedMail</span>
                <span class="p">)</span>

                <span class="kt">Text</span><span class="p">(</span><span class="s">"Select label..."</span><span class="p">)</span>
                <span class="kt">Text</span><span class="p">(</span><span class="s">"Select mail..."</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, we have <em>NavigationView</em>, which is the root of our app scene. We also define two state properties which describe selected label and email. We pass bindings to these state properties down into the view hierarchy, it allows us to programmatically navigate to the selected folder and mail when needed. You can remove these bindings if you don’t need programmatic navigation.</p>

<p>Thanks to SwiftUI’s declarative nature, the code above works great both on iPhone, where it uses the single column navigation and iPad where is uses sidebar navigation.</p>

<p>Sidebar navigation plays a huge role in new <a href="https://developer.apple.com/design/human-interface-guidelines/ios/bars/sidebars/">Human Interface Guidelines</a>. It is effortless to implement in SwiftUI using <em>NavigationView</em>. I hope you enjoy the post. Feel free to follow me on <a href="https://twitter.com/mecid">Twitter</a> and ask your questions related to this article. Thanks for reading, and see you next week!</p>

</article>


<aside class="related">
  <h4>Recent posts</h4>
  <ul class="related-posts">
    
      <li>
        <a title="Custom accessibility content in SwiftUI" href="/2021/10/06/custom-accessibility-content-in-swiftui/">
          Custom accessibility content in SwiftUI
          <small><time datetime="2021-10-06T00:00:00+08:00">06 Oct 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Audio graphs in SwiftUI" href="/2021/09/29/audio-graphs-in-swiftui/">
          Audio graphs in SwiftUI
          <small><time datetime="2021-09-29T00:00:00+08:00">29 Sep 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Accessibility focus in SwiftUI" href="/2021/09/23/accessibility-focus-in-swiftui/">
          Accessibility focus in SwiftUI
          <small><time datetime="2021-09-23T00:00:00+08:00">23 Sep 2021</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
          <img class="avatar" alt="mecid" width="100" height="100" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/mecid?v=3&s=100" srcset="https://avatars2.githubusercontent.com/mecid?v=3&s=100 1x, https://avatars2.githubusercontent.com/mecid?v=3&s=200 2x, https://avatars2.githubusercontent.com/mecid?v=3&s=300 3x, https://avatars2.githubusercontent.com/mecid?v=3&s=400 4x" />
          <small>Hi there! I am code4you,I like to program, and do some App.</small>
          <small>I'm a developer</small>
          <small>Feel free to follow me on <a href="https://github.com/code4you2021">Github</a>.</small>
        <small>
          &copy; <time datetime="2021-10-17T11:25:11+08:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1WQVZK1CR7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-18491817-18');
    </script>
    
  </body>
</html>

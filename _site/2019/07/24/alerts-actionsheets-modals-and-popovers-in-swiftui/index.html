<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="swift ios development apple watch iphone ipad swiftui macos uikit dev wwdc tutorial guide redux tea state container" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Alerts, Action Sheets, Modals and Popovers in SwiftUI | Code4You</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Alerts, Action Sheets, Modals and Popovers in SwiftUI" />
<meta name="author" content="Code4You" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Last week we talked about Navigation in SwiftUI. This week I want to continue the topic with sheets, alerts, action sheets, and popovers. SwiftUI has a set of dedicated modifiers for presenting this kind of stuff. Let’s take a look at how we can use different view modifiers to display sheets, alerts, action sheets, and popovers." />
<meta property="og:description" content="Last week we talked about Navigation in SwiftUI. This week I want to continue the topic with sheets, alerts, action sheets, and popovers. SwiftUI has a set of dedicated modifiers for presenting this kind of stuff. Let’s take a look at how we can use different view modifiers to display sheets, alerts, action sheets, and popovers." />
<link rel="canonical" href="http://localhost:4000/2019/07/24/alerts-actionsheets-modals-and-popovers-in-swiftui/" />
<meta property="og:url" content="http://localhost:4000/2019/07/24/alerts-actionsheets-modals-and-popovers-in-swiftui/" />
<meta property="og:site_name" content="Code4You" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-07-24T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Alerts, Action Sheets, Modals and Popovers in SwiftUI" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/07/24/alerts-actionsheets-modals-and-popovers-in-swiftui/"},"url":"http://localhost:4000/2019/07/24/alerts-actionsheets-modals-and-popovers-in-swiftui/","author":{"@type":"Person","name":"Code4You"},"headline":"Alerts, Action Sheets, Modals and Popovers in SwiftUI","description":"Last week we talked about Navigation in SwiftUI. This week I want to continue the topic with sheets, alerts, action sheets, and popovers. SwiftUI has a set of dedicated modifiers for presenting this kind of stuff. Let’s take a look at how we can use different view modifiers to display sheets, alerts, action sheets, and popovers.","dateModified":"2019-07-24T00:00:00+08:00","datePublished":"2019-07-24T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/styles.css">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Code4You" href="/feed.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <nav>
          <h1 class="masthead-title">
            <a href="/" title="Home">Code4You</a>
          </h1>
          <div>
            <a href="/categories" title="Categories">Categories</a>
            <a href="/archive" title="Archive">Archive</a>
            <a href="/feed.xml" title="Feed">Feed</a>
          </div>
        </nav>
      </header>

      <main>
        <article class="post">
  <h2 class="post-title">Alerts, Action Sheets, Modals and Popovers in SwiftUI</h2>
  <time datetime="2019-07-24T00:00:00+08:00" class="post-date">24 Jul 2019</time>
  <p>Last week we talked about <a href="/2019/07/17/navigation-in-swiftui/">Navigation in SwiftUI</a>. This week I want to continue the topic with sheets, alerts, action sheets, and popovers. SwiftUI has a set of dedicated modifiers for presenting this kind of stuff. Let’s take a look at how we can use different view modifiers to display sheets, alerts, action sheets, and popovers.</p>

<!-- <div class="ads">
    <span>
        Why don’t more iOS apps use voice? Machine learning for voice is hard, and using Siri is clunky and rigid. So we open-sourced an iOS library (also Android, Node, Python, & React Native), and built a no-code web tool to make custom wake words, speech recognizers, and AI voices—for all devs! <a href="https://www.spokestack.io/?utm_source=swiftui_weekly&utm_medium=email&utm_campaign=maker_launch_PAID">Try it for free.</a>
    </span>
</div> -->

<h4 id="alerts-and-action-sheets">Alerts and Action Sheets</h4>
<p>Both alerts and action sheets use the similar ways of presenting it to the user. Let’s start with a simpler one. We have to describe a boolean binding which can be observed by SwiftUI, and as soon as boolean becomes true, SwiftUI presents the action sheet or alert.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">MasterView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">showActionSheet</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Button</span><span class="p">(</span><span class="s">"Show action sheet"</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="n">showActionSheet</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="p">}</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">actionSheet</span><span class="p">(</span><span class="nv">isPresented</span><span class="p">:</span> <span class="err">$</span><span class="n">showActionSheet</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">ActionSheet</span><span class="p">(</span>
                <span class="nv">title</span><span class="p">:</span> <span class="kt">Text</span><span class="p">(</span><span class="s">"Actions"</span><span class="p">),</span>
                <span class="nv">message</span><span class="p">:</span> <span class="kt">Text</span><span class="p">(</span><span class="s">"Available actions"</span><span class="p">),</span>
                <span class="nv">buttons</span><span class="p">:</span> <span class="p">[</span>
                    <span class="o">.</span><span class="n">cancel</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">showActionSheet</span><span class="p">)</span> <span class="p">},</span>
                    <span class="o">.</span><span class="nf">default</span><span class="p">(</span><span class="kt">Text</span><span class="p">(</span><span class="s">"Action"</span><span class="p">)),</span>
                    <span class="o">.</span><span class="nf">destructive</span><span class="p">(</span><span class="kt">Text</span><span class="p">(</span><span class="s">"Delete"</span><span class="p">))</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>As you can see in the example above to present an action sheet, we use <em>actionSheet</em> modifier bound to a boolean value and a closure which creates an action sheet. Alternatively, to display an alert, we have to use <em>alert</em> modifier instead.</p>

<p>The interesting fact here is that SwiftUI resets the binding to initial value after <em>Alert</em> or <em>Action Sheet</em> dismissal.</p>

<blockquote>
  <p>To learn more about <em>Property Wrappers</em> available in SwiftUI, take a look at <a href="/2019/06/12/understanding-property-wrappers-in-swiftui/">“Understanding Property Wrappers in SwiftUI”</a> post.</p>
</blockquote>

<p>It is a straightforward approach to present alerts or action sheets. But sometimes it is not enough, because we need some data to show in an alert or action sheet. For this case, we have another versions of <em>alert</em> and <em>actionSheet</em> modifiers, which use an optional identifiable binding instead of boolean binding.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">Message</span><span class="p">:</span> <span class="kt">Identifiable</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">id</span> <span class="o">=</span> <span class="kt">UUID</span><span class="p">()</span>
    <span class="k">let</span> <span class="nv">text</span><span class="p">:</span> <span class="kt">String</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">MasterView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">message</span><span class="p">:</span> <span class="kt">Message</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Button</span><span class="p">(</span><span class="s">"Show alert"</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="n">message</span> <span class="o">=</span> <span class="kt">Message</span><span class="p">(</span><span class="nv">text</span><span class="p">:</span> <span class="s">"Hi!"</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">alert</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span> <span class="err">$</span><span class="n">message</span><span class="p">)</span> <span class="p">{</span> <span class="n">message</span> <span class="k">in</span>
            <span class="kt">Alert</span><span class="p">(</span>
                <span class="nv">title</span><span class="p">:</span> <span class="kt">Text</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">text</span><span class="p">),</span>
                <span class="nv">dismissButton</span><span class="p">:</span> <span class="o">.</span><span class="nf">cancel</span><span class="p">()</span>
            <span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As soon as <em>message</em> is not <em>nil</em> SwiftUI call a closure with <em>message</em> as a parameter. You can create your alert based on the data passed into the closure.</p>

<h4 id="sheets">Sheets</h4>
<p>To present modals, SwiftUI provides the special view modifier called <em>sheet</em>. <em>Sheet</em> view modifier is very similar to <em>alert</em> and <em>actionSheet</em>, it uses boolean or optional identifiable binding to understand when to present a sheet. It also needs a closure which returns a content view for a sheet. Besides that, <em>sheet</em> view modifier has an optional <em>onDismiss</em> closure parameter, SwiftUI calls this closure after modal dismiss. Like with alerts, SwiftUI will reset binding to the initial value after modal dismissal.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>
<span class="kd">import</span> <span class="kt">Combine</span>

<span class="kd">struct</span> <span class="kt">MasterView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">showModal</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Button</span><span class="p">(</span><span class="s">"Show modal"</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="n">showModal</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="p">}</span>
        <span class="p">}</span><span class="o">.</span><span class="nf">sheet</span><span class="p">(</span><span class="nv">isPresented</span><span class="p">:</span> <span class="err">$</span><span class="n">showModal</span><span class="p">,</span> <span class="nv">onDismiss</span><span class="p">:</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="k">self</span><span class="o">.</span><span class="n">showModal</span><span class="p">)</span>
        <span class="p">})</span> <span class="p">{</span>
            <span class="kt">ModalView</span><span class="p">(</span><span class="nv">message</span><span class="p">:</span> <span class="s">"This is Modal view"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">ModalView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@Environment</span><span class="p">(\</span><span class="o">.</span><span class="n">presentationMode</span><span class="p">)</span> <span class="k">var</span> <span class="nv">presentation</span>
    <span class="k">let</span> <span class="nv">message</span><span class="p">:</span> <span class="kt">String</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Text</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
            <span class="kt">Button</span><span class="p">(</span><span class="s">"Dismiss"</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="n">presentation</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>You can also use <em>fullScreenCover</em> view modifier to present full screen modals. It works the same way as <em>sheet</em> modifier. <em>presentationMode</em> is an environment value that represents the current presentation mode of the view. We can use it to programmatically dismiss the sheet.</p>

<h4 id="popovers">Popovers</h4>
<p>Using popovers in SwiftUI is very similar to alerts and action sheets. <em>Popover</em> modifier also has two overloads for boolean and optional identifiable bindings. Another additional parameter in the <em>popover</em> view modifier is <em>arrowEdge</em>, by providing <em>Edge</em> value you can draw an arrow in a specified direction. Here is the example of the <em>popover</em> view modifier usage.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">MasterView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">showPopover</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Button</span><span class="p">(</span><span class="s">"Show popover"</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="n">showPopover</span> <span class="o">=</span> <span class="kc">true</span>
            <span class="p">}</span><span class="o">.</span><span class="nf">popover</span><span class="p">(</span>
                <span class="nv">isPresented</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="err">$</span><span class="n">showPopover</span><span class="p">,</span>
                <span class="nv">arrowEdge</span><span class="p">:</span> <span class="o">.</span><span class="n">bottom</span>
            <span class="p">)</span> <span class="p">{</span> <span class="kt">Text</span><span class="p">(</span><span class="s">"Popover"</span><span class="p">)</span> <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="conclusion">Conclusion</h4>
<p>As you can see, SwiftUI provides a pretty easy way of presenting context-related views like alerts, action sheets, sheets, and popoversp by using bindings. Feel free to follow me on <a href="https://twitter.com/mecid">Twitter</a> and ask your questions related to this post. Thanks for reading and see you next week!</p>


</article>


<aside class="related">
  <h4>Recent posts</h4>
  <ul class="related-posts">
    
      <li>
        <a title="Custom accessibility content in SwiftUI" href="/2021/10/06/custom-accessibility-content-in-swiftui/">
          Custom accessibility content in SwiftUI
          <small><time datetime="2021-10-06T00:00:00+08:00">06 Oct 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Audio graphs in SwiftUI" href="/2021/09/29/audio-graphs-in-swiftui/">
          Audio graphs in SwiftUI
          <small><time datetime="2021-09-29T00:00:00+08:00">29 Sep 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Accessibility focus in SwiftUI" href="/2021/09/23/accessibility-focus-in-swiftui/">
          Accessibility focus in SwiftUI
          <small><time datetime="2021-09-23T00:00:00+08:00">23 Sep 2021</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
          <img class="avatar" alt="mecid" width="100" height="100" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/mecid?v=3&s=100" srcset="https://avatars2.githubusercontent.com/mecid?v=3&s=100 1x, https://avatars2.githubusercontent.com/mecid?v=3&s=200 2x, https://avatars2.githubusercontent.com/mecid?v=3&s=300 3x, https://avatars2.githubusercontent.com/mecid?v=3&s=400 4x" />
          <small>Hi there! I am code4you,I like to program, and do some App.</small>
          <small>I'm a developer</small>
          <small>Feel free to follow me on <a href="https://github.com/code4you2021">Github</a>.</small>
        <small>
          &copy; <time datetime="2021-10-17T11:25:11+08:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1WQVZK1CR7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-18491817-18');
    </script>
    
  </body>
</html>

<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="swift ios development apple watch iphone ipad swiftui macos uikit dev wwdc tutorial guide redux tea state container" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Localization in SwiftUI | Code4You</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Localization in SwiftUI" />
<meta name="author" content="Code4You" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This week I want to talk about another crucial feature of any app, which is Localization. Every user expects that your app correctly uses environment features like the right-to-left layout or uses system locale to format dates or currencies. Another vital thing here is translations, and this week, we will learn which tools SwiftUI provides to add in our apps as many languages as we can." />
<meta property="og:description" content="This week I want to talk about another crucial feature of any app, which is Localization. Every user expects that your app correctly uses environment features like the right-to-left layout or uses system locale to format dates or currencies. Another vital thing here is translations, and this week, we will learn which tools SwiftUI provides to add in our apps as many languages as we can." />
<link rel="canonical" href="http://localhost:4000/2019/10/16/localization-in-swiftui/" />
<meta property="og:url" content="http://localhost:4000/2019/10/16/localization-in-swiftui/" />
<meta property="og:site_name" content="Code4You" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-10-16T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Localization in SwiftUI" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/10/16/localization-in-swiftui/"},"url":"http://localhost:4000/2019/10/16/localization-in-swiftui/","author":{"@type":"Person","name":"Code4You"},"headline":"Localization in SwiftUI","description":"This week I want to talk about another crucial feature of any app, which is Localization. Every user expects that your app correctly uses environment features like the right-to-left layout or uses system locale to format dates or currencies. Another vital thing here is translations, and this week, we will learn which tools SwiftUI provides to add in our apps as many languages as we can.","dateModified":"2019-10-16T00:00:00+08:00","datePublished":"2019-10-16T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/styles.css">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Code4You" href="/feed.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <nav>
          <h1 class="masthead-title">
            <a href="/" title="Home">Code4You</a>
          </h1>
          <div>
            <a href="/categories" title="Categories">Categories</a>
            <a href="/archive" title="Archive">Archive</a>
            <a href="/feed.xml" title="Feed">Feed</a>
          </div>
        </nav>
      </header>

      <main>
        <article class="post">
  <h2 class="post-title">Localization in SwiftUI</h2>
  <time datetime="2019-10-16T00:00:00+08:00" class="post-date">16 Oct 2019</time>
  <p>This week I want to talk about another crucial feature of any app, which is <em>Localization</em>. Every user expects that your app correctly uses environment features like the right-to-left layout or uses system locale to format dates or currencies. Another vital thing here is translations, and this week, we will learn which tools SwiftUI provides to add in our apps as many languages as we can.</p>

<!-- <div class="ads">
    <span>
        Why don’t more iOS apps use voice? Machine learning for voice is hard, and using Siri is clunky and rigid. So we open-sourced an iOS library (also Android, Node, Python, & React Native), and built a no-code web tool to make custom wake words, speech recognizers, and AI voices—for all devs! <a href="https://www.spokestack.io/?utm_source=swiftui_weekly&utm_medium=email&utm_campaign=maker_launch_PAID">Try it for free.</a>
    </span>
</div> -->

<h4 id="localizedstringkey">LocalizedStringKey</h4>
<p><em>LocalizedStringKey</em> is a special struct which is provided by the SwiftUI framework. It conforms <em>ExpressibleByStringLiteral</em> protocol, which allows us to create this struct by using a <em>String</em> value. <em>Text</em> component, on the other hand, has an overload that accepts <em>LocalizedStringKey</em> instead of <em>String</em>. It allows us to use our localization keys in a very transparent way. Let’s take a look at a quick example.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">goal</span><span class="p">:</span> <span class="kt">LocalizedStringKey</span> <span class="o">=</span> <span class="s">"goal"</span>
<span class="k">let</span> <span class="nv">text</span> <span class="o">=</span> <span class="kt">Text</span><span class="p">(</span><span class="n">goal</span><span class="p">)</span>
</code></pre></div></div>

<p><em>LocalizedStringKey</em> looks for a <em>“goal”</em> key in translation files, and as soon as it finds provided translation for a key <em>“goal”</em> it will replace the key with a correct translated string. In the case where there is no provided translation, it will use the key as a dummy string value.</p>

<p>To learn how to create translation files, take a look at the <a href="https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPInternational/LocalizingYourApp/LocalizingYourApp.html#//apple_ref/doc/uid/10000171i-CH5-SW1">“Internationalization and Localization”</a> guide provided by Apple.</p>

<h4 id="string-interpolation">String interpolation</h4>
<p>We already know how to localize static text in our apps. But what about the dynamic text, where we need to inject some data like names or some numeric values. Fortunately, <em>LocalizedStringKey</em> conforms <em>ExpressibleByStringInterpolation</em> protocol, which allows us to use <em>String</em> interpolation to pass data into our string values. Let’s take a look at a small example.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">name</span> <span class="o">=</span> <span class="s">"Majid"</span>
<span class="kt">Text</span><span class="p">(</span><span class="s">"myNameIs </span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>In the example above, we create a <em>Text</em> component with the <em>“myNameIs (name)”</em> string value. As you already know, the Text component has an init method overload, which accepts <em>LocalizedStringKey</em> and <em>LocalizedStringKey</em> conforms <em>ExpressibleByStringInterpolation</em>, and <strong>this is all the magic behind the localization in SwiftUI</strong>. This piece of code will look for the <em>“myNameIs %@”</em> key in your translation files. Let’s take a look at how our translation file should look to make it work.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"myNameIs %@"</span> <span class="o">=</span> <span class="s">"My name is %@."</span><span class="p">;</span>
</code></pre></div></div>

<p><strong>I have to mention that it doesn’t work in preview canvas. You should run it on simulator.</strong></p>

<p><em>String</em> interpolation is a compelling feature of Swift language. By using <em>String</em> interpolation, we can also pass stuff like formatters or format specifiers, which can provide additional presentation logic. Let’s take a look at a few code examples.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">date</span> <span class="o">=</span> <span class="kt">Date</span><span class="p">()</span>
<span class="k">let</span> <span class="nv">formatter</span> <span class="o">=</span> <span class="kt">DateFormatter</span><span class="p">()</span>
<span class="n">formatter</span><span class="o">.</span><span class="n">dateStyle</span> <span class="o">=</span> <span class="o">.</span><span class="n">medium</span>
<span class="n">formatter</span><span class="o">.</span><span class="n">timeStyle</span> <span class="o">=</span> <span class="o">.</span><span class="k">none</span>
<span class="kt">Text</span><span class="p">(</span><span class="s">"birthday </span><span class="se">\(</span><span class="n">date</span><span class="p">,</span> <span class="nv">formatter</span><span class="p">:</span> <span class="n">formatter</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<p>In the code sample above, we pass a <em>DateFormatter</em>, which converts a <em>Date</em> representation into a proper localized string value. This code will run a localized string lookup and then apply the formatter. Here is how the translation file should look.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"birthday %@"</span> <span class="o">=</span> <span class="s">"My birthday is %@."</span><span class="p">;</span>
</code></pre></div></div>

<p>Let’s take a look at another quick sample where we inject integer into our translation.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">age</span> <span class="o">=</span> <span class="mi">28</span>
<span class="kt">Text</span><span class="p">(</span><span class="s">"age </span><span class="se">\(</span><span class="n">age</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>

<span class="s">"age %lld"</span> <span class="o">=</span> <span class="s">"I'm %lld years old"</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="conclusion">Conclusion</h4>
<p>Localization is an essential aspect in the world of user experience. Today we learned how easily we could localize our apps with the help of <em>LocalizedStringKey</em> struct provided by SwiftUI. I hope you enjoy the post. Feel free to follow me on <a href="https://twitter.com/mecid">Twitter</a> and ask your questions related to this post. Thanks for reading, and see you next week!</p>


</article>


<aside class="related">
  <h4>Recent posts</h4>
  <ul class="related-posts">
    
      <li>
        <a title="Custom accessibility content in SwiftUI" href="/2021/10/06/custom-accessibility-content-in-swiftui/">
          Custom accessibility content in SwiftUI
          <small><time datetime="2021-10-06T00:00:00+08:00">06 Oct 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Audio graphs in SwiftUI" href="/2021/09/29/audio-graphs-in-swiftui/">
          Audio graphs in SwiftUI
          <small><time datetime="2021-09-29T00:00:00+08:00">29 Sep 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Accessibility focus in SwiftUI" href="/2021/09/23/accessibility-focus-in-swiftui/">
          Accessibility focus in SwiftUI
          <small><time datetime="2021-09-23T00:00:00+08:00">23 Sep 2021</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
          <img class="avatar" alt="mecid" width="100" height="100" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/mecid?v=3&s=100" srcset="https://avatars2.githubusercontent.com/mecid?v=3&s=100 1x, https://avatars2.githubusercontent.com/mecid?v=3&s=200 2x, https://avatars2.githubusercontent.com/mecid?v=3&s=300 3x, https://avatars2.githubusercontent.com/mecid?v=3&s=400 4x" />
          <small>Hi there! I am code4you,I like to program, and do some App.</small>
          <small>I'm a developer</small>
          <small>Feel free to follow me on <a href="https://github.com/code4you2021">Github</a>.</small>
        <small>
          &copy; <time datetime="2021-10-17T11:25:11+08:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1WQVZK1CR7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-18491817-18');
    </script>
    
  </body>
</html>

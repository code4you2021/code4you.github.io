<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="swift ios development apple watch iphone ipad swiftui macos uikit dev wwdc tutorial guide redux tea state container" />

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Animations in SwiftUI | Code4You</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Animations in SwiftUI" />
<meta name="author" content="Code4You" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="SwiftUI brings declarative and straightforward approach in building User Interfaces. We have List and Form components and Bindings. All of these things make SwiftUI so easy to use and very powerful. But today we are going to talk about another feature of SwiftUI, and it is animations." />
<meta property="og:description" content="SwiftUI brings declarative and straightforward approach in building User Interfaces. We have List and Form components and Bindings. All of these things make SwiftUI so easy to use and very powerful. But today we are going to talk about another feature of SwiftUI, and it is animations." />
<link rel="canonical" href="http://localhost:4000/2019/06/26/animations-in-swiftui/" />
<meta property="og:url" content="http://localhost:4000/2019/06/26/animations-in-swiftui/" />
<meta property="og:site_name" content="Code4You" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-06-26T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Animations in SwiftUI" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2019/06/26/animations-in-swiftui/"},"url":"http://localhost:4000/2019/06/26/animations-in-swiftui/","author":{"@type":"Person","name":"Code4You"},"headline":"Animations in SwiftUI","description":"SwiftUI brings declarative and straightforward approach in building User Interfaces. We have List and Form components and Bindings. All of these things make SwiftUI so easy to use and very powerful. But today we are going to talk about another feature of SwiftUI, and it is animations.","dateModified":"2019-06-26T00:00:00+08:00","datePublished":"2019-06-26T00:00:00+08:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="stylesheet" href="/styles.css">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link rel="alternate" type="application/atom+xml" title="Code4You" href="/feed.xml">
</head>


  <body>

    <div class="container content">
      <header class="masthead">
        <nav>
          <h1 class="masthead-title">
            <a href="/" title="Home">Code4You</a>
          </h1>
          <div>
            <a href="/categories" title="Categories">Categories</a>
            <a href="/archive" title="Archive">Archive</a>
            <a href="/feed.xml" title="Feed">Feed</a>
          </div>
        </nav>
      </header>

      <main>
        <article class="post">
  <h2 class="post-title">Animations in SwiftUI</h2>
  <time datetime="2019-06-26T00:00:00+08:00" class="post-date">26 Jun 2019</time>
  <p>SwiftUI brings declarative and straightforward approach in building User Interfaces. We have <em>List</em> and <em>Form</em> components and <em>Bindings</em>. All of these things make SwiftUI so easy to use and very powerful. But today we are going to talk about another feature of SwiftUI, and it is animations.</p>

<!-- <div class="ads">
    <span>
        Why don’t more iOS apps use voice? Machine learning for voice is hard, and using Siri is clunky and rigid. So we open-sourced an iOS library (also Android, Node, Python, & React Native), and built a no-code web tool to make custom wake words, speech recognizers, and AI voices—for all devs! <a href="https://www.spokestack.io/?utm_source=swiftui_weekly&utm_medium=email&utm_campaign=maker_launch_PAID">Try it for free.</a>
    </span>
</div> -->

<h4 id="animation">Animation</h4>
<p>You can smoothly animate any change in SwiftUI by wrapping it into <em>withAnimation</em> block. By default, SwiftUI uses fade in and fade out for animating changes. Let’s take a look at a small example.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">isButtonVisible</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{</span>
                <span class="n">withAnimation</span> <span class="p">{</span>
                    <span class="k">self</span><span class="o">.</span><span class="n">isButtonVisible</span><span class="o">.</span><span class="nf">toggle</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">})</span> <span class="p">{</span>
                <span class="kt">Text</span><span class="p">(</span><span class="s">"Press me"</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">isButtonVisible</span> <span class="p">{</span>
                <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{})</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"Hidden Button"</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the current example, we wrap the <em>State</em> change with <em>withAnimation</em> block, and it produces nice fade in animation. You can modify animation by passing timing and spring values. Another option can be attaching animation modifier to the animating view.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">isButtonVisible</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{</span>
                <span class="k">self</span><span class="o">.</span><span class="n">isButtonVisible</span><span class="o">.</span><span class="nf">toggle</span><span class="p">()</span>
            <span class="p">})</span> <span class="p">{</span>
                <span class="kt">Text</span><span class="p">(</span><span class="s">"Press me"</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">isButtonVisible</span> <span class="p">{</span>
                <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{})</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"Hidden Button"</span><span class="p">)</span>
                <span class="p">}</span><span class="o">.</span><span class="nf">animation</span><span class="p">(</span><span class="o">.</span><span class="n">easeInOut</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="n">isButtonVisible</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the code sample above, we achieve the same animation by simply adding animation modifier. We use <em>easeInOut</em> animation, but you can pass custom animation properties. The second parameter is the equatable value that SwiftUI observes to understand changes and animate them.</p>

<p>Sometimes we have a situation where multiple views depend on some state, and we want to animate all depending view changes together. For this case, we have animatable bindings.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">isButtonVisible</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Toggle</span><span class="p">(</span><span class="nv">isOn</span><span class="p">:</span> <span class="err">$</span><span class="n">isButtonVisible</span><span class="o">.</span><span class="nf">animation</span><span class="p">())</span> <span class="p">{</span>
                <span class="kt">Text</span><span class="p">(</span><span class="s">"Show/Hide button"</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">isButtonVisible</span> <span class="p">{</span>
                <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{})</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"Hidden Button"</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, we can easily convert our binding into animatable binding by calling animation method on it. This method wraps every change of binding value into an animation block. You can pass animation settings as parameters to this method. More about bindings you can read in my <a href="/2019/06/12/understanding-property-wrappers-in-swiftui">previous post</a>.</p>

<h4 id="transitions">Transitions</h4>

<p>As I said before, SwiftUI uses fade in and fade out transition by default, but we can apply any other transition we want. Let’s replace fading with moving.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">struct</span> <span class="kt">ContentView</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">isButtonVisible</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Toggle</span><span class="p">(</span><span class="nv">isOn</span><span class="p">:</span> <span class="err">$</span><span class="n">isButtonVisible</span><span class="o">.</span><span class="nf">animation</span><span class="p">())</span> <span class="p">{</span>
                <span class="kt">Text</span><span class="p">(</span><span class="s">"Show/Hide button"</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">isButtonVisible</span> <span class="p">{</span>
                <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{})</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"Hidden Button"</span><span class="p">)</span>
                <span class="p">}</span><span class="o">.</span><span class="nf">transition</span><span class="p">(</span><span class="o">.</span><span class="nf">move</span><span class="p">(</span><span class="nv">edge</span><span class="p">:</span> <span class="o">.</span><span class="n">trailing</span><span class="p">))</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In the example above, we attach transition modifier to the view. SwiftUI has a bunch of ready to use transitions like <em>move</em>, <em>slide</em>, <em>scale</em>, <em>offset</em>, <em>opacity</em>, etc. We can combine them into a single transition. Let’s take a look at the example.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">extension</span> <span class="kt">AnyTransition</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">moveAndScale</span><span class="p">(</span><span class="nv">edge</span><span class="p">:</span> <span class="kt">Edge</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">AnyTransition</span> <span class="p">{</span>
        <span class="kt">AnyTransition</span><span class="o">.</span><span class="nf">move</span><span class="p">(</span><span class="nv">edge</span><span class="p">:</span> <span class="n">edge</span><span class="p">)</span><span class="o">.</span><span class="nf">combined</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="o">.</span><span class="nf">scale</span><span class="p">())</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">ContentView</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">isButtonVisible</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Toggle</span><span class="p">(</span><span class="nv">isOn</span><span class="p">:</span> <span class="err">$</span><span class="n">isButtonVisible</span><span class="o">.</span><span class="nf">animation</span><span class="p">())</span> <span class="p">{</span>
                <span class="kt">Text</span><span class="p">(</span><span class="s">"Show/Hide button"</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">isButtonVisible</span> <span class="p">{</span>
                <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{})</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"Hidden Button"</span><span class="p">)</span>
                <span class="p">}</span><span class="o">.</span><span class="nf">transition</span><span class="p">(</span><span class="o">.</span><span class="nf">moveAndScale</span><span class="p">(</span><span class="nv">edge</span><span class="p">:</span> <span class="o">.</span><span class="n">trailing</span><span class="p">))</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We created a <em>moveAndScale</em> transition, which is basically a combination of move and scale transitions. SwiftUI applies the current transition symmetrically according to timing or spring values which you pass into the animation method.</p>

<p>SwiftUI provides a way of building asymmetric transitions also. Assume that you need a move transition on insertion and a fade transition on removal. For those cases, we have an <em>asymmetric</em> method on <em>AnyTransition</em> struct, which we can use to build asymmetric transitions.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">extension</span> <span class="kt">AnyTransition</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">moveOrFade</span><span class="p">(</span><span class="nv">edge</span><span class="p">:</span> <span class="kt">Edge</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">AnyTransition</span> <span class="p">{</span>
        <span class="kt">AnyTransition</span><span class="o">.</span><span class="nf">asymmetric</span><span class="p">(</span>
            <span class="nv">insertion</span><span class="p">:</span> <span class="o">.</span><span class="nf">move</span><span class="p">(</span><span class="nv">edge</span><span class="p">:</span> <span class="n">edge</span><span class="p">),</span>
            <span class="nv">removal</span><span class="p">:</span> <span class="o">.</span><span class="n">opacity</span>
        <span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">ContentView</span> <span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@State</span> <span class="kd">private</span> <span class="k">var</span> <span class="nv">isButtonVisible</span> <span class="o">=</span> <span class="kc">true</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">VStack</span> <span class="p">{</span>
            <span class="kt">Toggle</span><span class="p">(</span><span class="nv">isOn</span><span class="p">:</span> <span class="err">$</span><span class="n">isButtonVisible</span><span class="o">.</span><span class="nf">animation</span><span class="p">())</span> <span class="p">{</span>
                <span class="kt">Text</span><span class="p">(</span><span class="s">"Show/Hide button"</span><span class="p">)</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="n">isButtonVisible</span> <span class="p">{</span>
                <span class="kt">Button</span><span class="p">(</span><span class="nv">action</span><span class="p">:</span> <span class="p">{})</span> <span class="p">{</span>
                    <span class="kt">Text</span><span class="p">(</span><span class="s">"Hidden Button"</span><span class="p">)</span>
                <span class="p">}</span><span class="o">.</span><span class="nf">transition</span><span class="p">(</span><span class="o">.</span><span class="nf">moveOrFade</span><span class="p">(</span><span class="nv">edge</span><span class="p">:</span> <span class="o">.</span><span class="n">trailing</span><span class="p">))</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>As you can see, we use <em>asymmetric</em> method to pass two transitions, the first one for insertion and another one for removal. We can pass here combined transition which we created.</p>

<h4 id="conclusion">Conclusion</h4>
<p>Today we discussed multiple ways of animating changes in SwiftUI. It totally depends on you and on use-case which way you have to choose. By spending more and more time with SwiftUI, I understand that it is already a compelling framework. Feel free to follow me on <a href="https://twitter.com/mecid">Twitter</a> and ask your questions related to this post. Thanks for reading and see you next week!</p>

</article>


<aside class="related">
  <h4>Recent posts</h4>
  <ul class="related-posts">
    
      <li>
        <a title="Custom accessibility content in SwiftUI" href="/2021/10/06/custom-accessibility-content-in-swiftui/">
          Custom accessibility content in SwiftUI
          <small><time datetime="2021-10-06T00:00:00+08:00">06 Oct 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Audio graphs in SwiftUI" href="/2021/09/29/audio-graphs-in-swiftui/">
          Audio graphs in SwiftUI
          <small><time datetime="2021-09-29T00:00:00+08:00">29 Sep 2021</time></small>
        </a>
      </li>
    
      <li>
        <a title="Accessibility focus in SwiftUI" href="/2021/09/23/accessibility-focus-in-swiftui/">
          Accessibility focus in SwiftUI
          <small><time datetime="2021-09-23T00:00:00+08:00">23 Sep 2021</time></small>
        </a>
      </li>
    
  </ul>
</aside>


      </main>

      <footer class="footer">
          <img class="avatar" alt="mecid" width="100" height="100" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/mecid?v=3&s=100" srcset="https://avatars2.githubusercontent.com/mecid?v=3&s=100 1x, https://avatars2.githubusercontent.com/mecid?v=3&s=200 2x, https://avatars2.githubusercontent.com/mecid?v=3&s=300 3x, https://avatars2.githubusercontent.com/mecid?v=3&s=400 4x" />
          <small>Hi there! I am code4you,I like to program, and do some App.</small>
          <small>I'm a developer</small>
          <small>Feel free to follow me on <a href="https://github.com/code4you2021">Github</a>.</small>
        <small>
          &copy; <time datetime="2021-10-17T11:25:11+08:00">2021</time>. All rights reserved.
        </small>
      </footer>
    </div>

    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1WQVZK1CR7"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-18491817-18');
    </script>
    
  </body>
</html>
